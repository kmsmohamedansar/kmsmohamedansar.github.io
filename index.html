<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mohamed Ansar ‚Äî Portfolio</title>
  <meta name="description" content="Mohamed Ansar ‚Äî ML Engineer Portfolio with AI Projects, Dashboards, and Technical Skills.">
  <meta property="og:title" content="Mohamed Ansar ‚Äî Portfolio">
  <meta property="og:image" content="https://kmsmohamedansar.github.io/preview.png">
  <meta property="og:url" content="https://kmsmohamedansar.github.io">
  <meta name="theme-color" content="#0f172a" />

  <!-- Fonts perf -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- AOS CSS (was missing) -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          boxShadow: { glow: '0 0 30px rgba(168,139,250,.35)' }
        }
      }
    }
  </script>

  <!-- Libs (deferred) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script defer src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.7.3/dist/vanilla-tilt.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

  <style>
    :root{ color-scheme: dark; }
    body{ font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; overflow-x:hidden; }
    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
    }
    .mobile-nav-open{ display:block !important; }
    .mobile-nav-closed{ display:none !important; }

    /* Holographic tilt sheen */
    .tilt{ position:relative; overflow:hidden; }
    .tilt::after{
      content:""; position:absolute; inset:-150% -150% auto auto; width:50%; height:300%;
      background: linear-gradient(60deg, transparent, rgba(255,255,255,.15), transparent);
      transform: rotate(20deg); pointer-events:none;
    }
    .tilt:hover::after{ animation: sheen 1.2s ease forwards; }
    @keyframes sheen{ to{ transform: translate(-130%, 0) rotate(20deg); } }

    /* Code shimmer */
    pre{ position:relative; background:linear-gradient(90deg,#0f172a,#0b1222); }
    pre::before{
      content:""; position:absolute; inset:0;
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.06),transparent);
      transform:translateX(-100%);
    }
    pre:hover::before{ animation: slide 1.4s ease; }
    @keyframes slide{ to{ transform:translateX(100%); } }

    .ml-keywords{
      position: fixed; bottom: 18px; right: 18px; font-size: .9rem; color:#00ffc3; z-index:50;
      padding:.4rem .6rem; background:rgba(0,0,0,.35); border:1px solid rgba(0,255,195,.35); border-radius:.6rem;
    }
  </style>
</head>

<body class="bg-gray-900 text-gray-100">
  <noscript>
    <div class="bg-red-600 text-white p-3 text-center">This site uses a little JavaScript for animations and the mobile nav. It‚Äôll still work without it, but some effects are disabled.</div>
  </noscript>

  <!-- Background canvases -->
  <canvas id="anime-bg" class="fixed inset-0 -z-20"></canvas>
  <canvas id="waterfall" class="fixed inset-0 -z-10 pointer-events-none"></canvas>

  <!-- Dark mode -->
  <button id="theme-toggle" class="fixed top-5 right-5 z-50 p-2 rounded-full bg-gray-200 dark:bg-gray-700 shadow-md" aria-label="Toggle dark mode">üåì</button>

  <!-- Navbar -->
  <nav class="fixed top-0 w-full bg-gray-800/80 backdrop-blur-md shadow z-40">
    <div class="max-w-6xl mx-auto flex items-center justify-between p-4">
      <a href="#" class="text-xl md:text-2xl font-extrabold tracking-tight">Portfolio</a>
      <button id="nav-toggle" class="md:hidden text-white focus:outline-none" aria-label="Open Menu" aria-controls="nav-links" aria-expanded="false">
        <svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
      <!-- FIX: use hidden md:flex (remove md:block conflict) -->
      <div id="nav-links" class="absolute md:static top-16 left-0 w-full md:w-auto bg-gray-800 md:bg-transparent p-4 md:p-0 hidden md:flex space-y-2 md:space-y-0 md:space-x-6 transition-all">
        <a href="#about" class="block hover:text-white transition py-2 px-2 md:py-0">About</a>
        <a href="#projects" class="block hover:text-white transition py-2 px-2 md:py-0">Projects</a>
        <a href="#skills" class="block hover:text-white transition py-2 px-2 md:py-0">Skills</a>
        <a href="#experience" class="block hover:text-white transition py-2 px-2 md:py-0">Experience</a>
        <a href="#education" class="block hover:text-white transition py-2 px-2 md:py-0">Education</a>
        <a href="#contact" class="block hover:text-white transition py-2 px-2 md:py-0">Contact</a>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header id="hero" class="relative h-screen flex items-center justify-center">
    <div class="relative z-10 text-center px-4">
      <h1 class="text-5xl md:text-6xl font-extrabold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500">
        üëã Hi, I'm <span id="typed" class="whitespace-nowrap"></span>
      </h1>
      <p class="text-xl md:text-2xl mb-6 text-gray-200">Business Analyst | Data Engineering Enthusiast | Python | SQL | MLOps</p>
      <p class="text-base md:text-lg mb-4 text-gray-400">Currently at Datasembly | Ex-Amazon | Mississauga, Canada</p>
      <a href="#about" class="inline-block bg-white text-gray-900 px-8 py-3 rounded-full shadow-lg hover:scale-105 hover:shadow-glow transition">Learn More</a>
    </div>
    <div class="absolute bottom-10 left-1/2 -translate-x-1/2 text-white animate-bounce" aria-hidden="true">‚Üì</div>
  </header>

  <div class="ml-keywords"><span id="mlWords"></span></div>

  <!-- Divider -->
  <div class="my-2 opacity-60">
    <svg viewBox="0 0 1200 120" class="w-full h-12" role="img" aria-label="Decorative racing line">
      <defs>
        <linearGradient id="race-g" x1="0" x2="1">
          <stop offset="0%" stop-color="#38bdf8"/><stop offset="100%" stop-color="#a78bfa"/>
        </linearGradient>
      </defs>
      <path id="race" d="M0,60 C150,10 300,110 450,60 S750,10 900,60 1050,110 1200,60"
            fill="none" stroke="url(#race-g)" stroke-width="3" stroke-linecap="round" />
    </svg>
  </div>

  <!-- ABOUT -->
  <section id="about" class="max-w-4xl mx-auto px-4 py-16" data-aos="fade-up">
    <h2 class="text-3xl font-semibold mb-4">About Me</h2>
    <p class="text-gray-300 leading-relaxed mb-4">
      I started out as a data analyst‚Äîwrangling messy spreadsheets, automating reports, and building dashboards for SaaS and CPG companies. Over time, I got curious about what‚Äôs possible with machine learning, so I dove in headfirst: studying, experimenting, and (eventually) building real ML apps that anyone can use.
    </p>
    <p class="text-gray-300 leading-relaxed mb-4">
      At <strong>Datasembly</strong>, I help major retailers and CPG brands get the most out of their data. My day-to-day? Custom SQL exports, data troubleshooting, and working alongside clients, sales and engineers to make sense of complex business questions.
    </p>
    <p class="text-gray-300 leading-relaxed mb-4">
      Before this, I was at <strong>Amazon Prime Video</strong>, where I helped build automations and analytics tools that made life easier for our ops teams. I‚Äôve also jumped into business development at Spongelii, where I learned to translate tech into products (and vice versa).
    </p>
    <p class="text-gray-300 leading-relaxed">
      These days, I‚Äôm all about combining my data engineering background with new ML skills‚Äîthink: Python, SQL, scikit-learn, Tableau, MLflow, and more. I enjoy turning business chaos into tools people actually use, and collaborating with PMs, engineers, and non-technical teams to get stuff shipped.
    </p>
  </section>

  <!-- Divider -->
  <div class="my-2 opacity-60">
    <svg viewBox="0 0 1200 120" class="w-full h-12" aria-hidden="true">
      <use href="#race" />
    </svg>
  </div>

  <!-- PROJECTS -->
  <section id="projects" class="max-w-6xl mx-auto px-4 py-16" data-aos="fade-up" data-aos-delay="50">
    <h2 class="text-3xl font-semibold mb-8 text-center">üöÄ Projects</h2>
    <div class="grid gap-8 md:grid-cols-2">

      <!-- TaskMaster -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up">
        <h3 class="text-xl font-bold mb-2 text-white">üîÅ TaskMaster: Automated Pipeline & Random Forest</h3>
        <p class="text-gray-400 mb-2">Retry-enabled pipeline, Random Forest on synthetic data, Gradio deployment.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> Python, scikit-learn, Gradio</p>
        <div class="mt-4 space-x-2">
          <a href="https://github.com/kmsmohamedansar/TaskMaster-Job-Scheduler" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-lg">GitHub</a>
          <a href="https://huggingface.co/spaces/kmsmohamedansar/TaskMaster-Job-Scheduler" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-green-500 hover:bg-green-600 text-white rounded-lg">Live Demo</a>
          <button data-toggle="#taskmaster-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="taskmaster-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-3 text-lg text-blue-300">TaskMaster ‚Äî End-to-End ML Pipeline Orchestration & Deployment</h4>
          <div class="grid md:grid-cols-3 gap-3 mb-4">
            <div class="bg-gray-800/60 rounded-lg p-3"><div class="text-gray-400 text-xs">Pipeline uptime</div><div class="kpi text-2xl" data-to="99">0</div>%</div>
            <div class="bg-gray-800/60 rounded-lg p-3"><div class="text-gray-400 text-xs">Avg. stage latency</div><div class="text-2xl">~450ms</div></div>
            <div class="bg-gray-800/60 rounded-lg p-3"><div class="text-gray-400 text-xs">Auto-retries</div><div class="kpi text-2xl" data-to="3">0</div>x</div>
          </div>
          <p class="mb-3"><strong>Executive Summary:</strong> A production-like ML system with <em>self-healing</em> pipeline stages (retries + backoff), structured logs, alerting hooks, and a RandomForest model served via Gradio.</p>
          <h5 class="font-semibold text-blue-300 mb-1">Architecture</h5>
          <ul class="list-disc pl-6 mb-3">
            <li><b>Ingest ‚Üí Validate ‚Üí Featurize ‚Üí Train ‚Üí Serve</b> with idempotent steps and artifact hand-off.</li>
            <li>Retry policy: <code>max_attempts=3</code>, <code>exponential_backoff=[1s, 2s, 4s]</code>, jitter; persistent failures emit alert callback.</li>
            <li>Structured <code>json</code> logs + correlation IDs per run.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Core Snippet (retry wrapper)</h5>
          <pre class="bg-gray-800 text-gray-100 rounded p-2 overflow-x-auto text-xs">
def retry(fn, max_attempts=3, base=1.0, jitter=0.25):
    import random, time
    for i in range(1, max_attempts+1):
        try:
            return fn()
        except Exception as e:
            if i == max_attempts: raise
            sleep = base * (2**(i-1)) + random.uniform(0, jitter)
            logger.warning({"event":"retry","attempt":i,"sleep":sleep,"err":str(e)})
            time.sleep(sleep)
          </pre>
          <h5 class="font-semibold text-blue-300 mb-1">Observability</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Metrics: stage latency, success rate, retries, failure reasons.</li>
            <li>Alerts: on <code>train_failures &gt; 0</code> or <code>latency_p95 &gt; threshold</code> ‚Üí webhook/email.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Deployment</h5>
          <ul class="list-disc pl-6 mb-3">
            <li><b>Gradio</b> on Hugging Face Spaces; path to <b>FastAPI</b> keeps same predict interface.</li>
            <li>Artifacts: versioned model + feature schema; cold-start ~2s on CPU.</li>
          </ul>
          <p class="mb-3 text-green-400"><b>Impact:</b> Simulated downtime reduced by <b>80%</b> via retries; faster, calmer on-calls.</p>
          <p class="mb-2"><a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://huggingface.co/spaces/kmsmohamedansar/TaskMaster-Job-Scheduler">Live Demo</a> ¬∑
             <a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://github.com/kmsmohamedansar/TaskMaster-Job-Scheduler">GitHub</a></p>
        </div>
      </article>

      <!-- High-Value Customer Predictor -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up" data-aos-delay="100">
        <h3 class="text-xl font-bold mb-2 text-white">üíé High-Value Customer Predictor</h3>
        <p class="text-gray-400 mb-2">End-to-End ML + MLOps with explainability and deployment.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> DuckDB, Pandera, RandomForest, Streamlit, SHAP, MLflow</p>
        <div class="mt-4 space-x-2">
          <a href="https://github.com/kmsmohamedansar/high-value-customer-predictor" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-lg">GitHub</a>
          <a href="https://huggingface.co/spaces/kmsmohamedansar/high-value-customer-predictor" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-green-500 hover:bg-green-600 text-white rounded-lg">Live Demo</a>
          <button data-toggle="#customer-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="customer-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-2 text-lg text-blue-300">High-Value Customer Predictor ‚Äî ML + MLOps</h4>
          <div class="grid sm:grid-cols-4 gap-3 mb-4">
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Accuracy</div><div class="kpi text-2xl" data-to="97">0</div>%</div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">F1</div><div class="kpi text-2xl" data-to="95">0</div>%</div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">ROC-AUC</div><div class="kpi text-2xl" data-to="99">0</div>%</div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Top-decile capture</div><div class="text-2xl">~84%</div></div>
          </div>
          <h5 class="font-semibold text-blue-300 mb-1">Data & Features</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Orders ‚Üí customer table; leakage checks enforced.</li>
            <li><b>RFM</b>, AOV, tenure, days-between-orders, discount habits, region/segment.</li>
            <li><b>Pandera</b> schema for types/ranges; bad rows quarantined.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Modeling</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>RandomForest w/ class-weight balance; randomized search.</li>
            <li>Threshold picked by maximizing F1 with precision ‚â• 0.9.</li>
            <li>Explainability: global importances + per-prediction <b>SHAP waterfall</b>.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">MLOps</h5>
          <ul class="list-disc pl-6 mb-3">
            <li><b>MLflow</b> runs: params, metrics, artifacts (confusion matrix, SHAP plots, model.pkl).</li>
            <li>Streamlit UI for interactive scoring; batch scoring CLI.</li>
            <li>Monitoring sketch: weekly data drift checks on RFM & tenure.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">MLflow run (excerpt)</h5>
          <pre class="bg-gray-800 text-gray-100 rounded p-2 overflow-x-auto text-xs">
with mlflow.start_run():
    mlflow.log_params({"n_estimators":200,"max_depth":12,"min_samples_leaf":2})
    mlflow.log_metric("roc_auc", 0.99)
    mlflow.sklearn.log_model(model, "model")
          </pre>
          <p class="mb-3 text-green-400"><b>Business Impact:</b> Surfaces ~top 10% customers by expected value ‚Üí targeted retention & uplift with clear ‚Äúwhy‚Äù.</p>
          <p class="mb-2"><a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://huggingface.co/spaces/kmsmohamedansar/high-value-customer-predictor">Live Demo</a> ¬∑
             <a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://github.com/kmsmohamedansar/high-value-customer-predictor">GitHub</a></p>
        </div>
      </article>

      <!-- Grocery AI Assistant -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up" data-aos-delay="200">
        <h3 class="text-xl font-bold mb-2 text-white">üõí Grocery AI Assistant ‚Äî Semantic Search &amp; Q&amp;A (Local RAG)</h3>
        <p class="text-gray-400 mb-2">Offline Q&amp;A over Instacart data using FAISS + local LLM.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> Python, FAISS, LangChain, Sentence Transformers</p>
        <div class="mt-4 space-x-2">
          <a href="https://github.com/kmsmohamedansar/grocery-ai-assistant" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-lg">GitHub</a>
          <a href="https://huggingface.co/spaces/kmsmohamedansar/ai_knowledge_assistant" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-green-500 hover:bg-green-600 text-white rounded-lg">Live Demo</a>
          <button data-toggle="#grocery-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="grocery-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-2 text-lg text-blue-300">Local Semantic Search + Q&amp;A over Instacart Data</h4>
          <div class="grid sm:grid-cols-3 gap-3 mb-4">
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Index size</div><div class="text-2xl">~50k</div> docs</div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">FAISS query</div><div class="text-2xl">&lt;100ms</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">LLM</div><div class="text-2xl">Flan-T5</div></div>
          </div>
          <h5 class="font-semibold text-blue-300 mb-1">Pipeline</h5>
          <ol class="list-decimal pl-6 mb-3">
            <li>Merge products/aisles/departments ‚Üí readable <code>combined_text</code>.</li>
            <li>Embed via <code>all-MiniLM-L6-v2</code>; index with FAISS.</li>
            <li>Retrieve top-k; compose grounded prompt; answer with <code>flan-t5-base</code>.</li>
            <li>Gradio chat UI; fully offline, zero API cost.</li>
          </ol>
          <h5 class="font-semibold text-blue-300 mb-1">Guardrails & Evaluation</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Answers must include an evidence phrase from retrieved chunks.</li>
            <li>Eval: 50 hand-written questions ‚Üí precision@k + usefulness rating.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Snippet (retrieval ‚Üí answer)</h5>
          <pre class="bg-gray-800 text-gray-100 rounded p-2 overflow-x-auto text-xs">
ctx_docs = store.similarity_search(q, k=4)
ctx = "\n".join(d.page_content for d in ctx_docs)
prompt = f"Answer with references from context.\nContext:\n{ctx}\n\nQ: {q}"
gen(prompt, max_length=256)
          </pre>
          <p class="mb-3 text-green-400"><b>Use cases:</b> private product search, merchandising, support assistants without sending data to cloud.</p>
          <p><a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://huggingface.co/spaces/kmsmohamedansar/ai_knowledge_assistant">Live Demo</a> ¬∑
             <a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://github.com/kmsmohamedansar/grocery-ai-assistant">GitHub</a></p>
        </div>
      </article>

      <!-- Sentiment Analysis -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up" data-aos-delay="300">
        <h3 class="text-xl font-bold mb-2 text-white">üìù Sentiment Analysis on Amazon Fine Food Reviews (DistilBERT)</h3>
        <p class="text-gray-400 mb-2">End-to-end NLP pipeline with classical baseline and a fine-tuned transformer.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> TF-IDF, Logistic Regression, DistilBERT, Transformers, Gradio</p>
        <div class="mt-4 space-x-2">
          <a href="https://github.com/kmsmohamedansar/sentiment-analysis-amazon-finefood" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-lg">GitHub</a>
          <a href="https://huggingface.co/spaces/kmsmohamedansar/amazon-sentiment-distilbert" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm bg-green-500 hover:bg-green-600 text-white rounded-lg">Live Demo</a>
          <button data-toggle="#sentiment-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="sentiment-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-2 text-lg text-blue-300">Amazon Fine Food Reviews ‚Äî Classical ‚Üí Transformer</h4>
          <div class="grid sm:grid-cols-4 gap-3 mb-4">
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Dataset</div><div class="text-2xl">~568k</div> reviews</div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Baseline F1</div><div class="text-2xl">0.88</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">DistilBERT F1</div><div class="text-2xl">0.91</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Latency</div><div class="text-2xl">&lt;100ms</div></div>
          </div>
          <h5 class="font-semibold text-blue-300 mb-1">Pipeline</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Clean text, balance classes, split train/val/test deterministically.</li>
            <li><b>Baseline:</b> TF-IDF + Logistic Regression (interpretable features).</li>
            <li><b>Upgrade:</b> DistilBERT fine-tuning with early stopping + eval per epoch.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Serving</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Gradio endpoint returns label + confidence JSON.</li>
            <li>Batch scoring script for CSV inputs.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Error analysis</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Misses: sarcasm, mixed polarity (‚Äúgreat taste but arrived stale‚Äù).</li>
            <li>Mitigation: add contrastive examples, calibrate threshold per class.</li>
          </ul>
          <p><a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://huggingface.co/spaces/kmsmohamedansar/amazon-sentiment-distilbert">Live Demo</a> ¬∑
             <a class="underline text-blue-300" target="_blank" rel="noopener noreferrer" href="https://github.com/kmsmohamedansar/sentiment-analysis-amazon-finefood">GitHub</a></p>
        </div>
      </article>

      <!-- Yahoo Finance News Scraper -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up" data-aos-delay="400">
        <h3 class="text-xl font-bold mb-2 text-white">üì∞ Yahoo Finance News Scraper ‚Äî Selenium + BeautifulSoup</h3>
        <p class="text-gray-400 mb-2">Headless Chrome scraper for JS-rendered news to CSV/DataFrame.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> Python, Selenium, BeautifulSoup, Pandas, ChromeDriver</p>
        <div class="mt-4 space-x-2">
          <!-- <a href="https://github.com/kmsmohamedansar/yahoo-finance-news-scraper" class="px-4 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-lg" target="_blank">GitHub</a> -->
          <button data-toggle="#yahoo-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="yahoo-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-2 text-lg text-blue-300">Headless Chrome Scraper for JS-Rendered News</h4>
          <div class="grid sm:grid-cols-3 gap-3 mb-4">
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Articles/session</div><div class="text-2xl">~50</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Storage</div><div class="text-2xl">CSV/DF</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Headless</div><div class="text-2xl">Chrome</div></div>
          </div>
          <h5 class="font-semibold text-blue-300 mb-1">How it works</h5>
          <ol class="list-decimal pl-6 mb-3">
            <li>Open homepage with Selenium; wait for network idle.</li>
            <li>Collect top links; visit each ‚Üí extract <code>&lt;h1&gt;</code>, <code>&lt;time&gt;</code>, author, body.</li>
            <li>Normalize text; write to Pandas DataFrame ‚Üí CSV.</li>
          </ol>
          <h5 class="font-semibold text-blue-300 mb-1">Resilience</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Randomized user-agent + short delays to avoid throttling.</li>
            <li>Selector fallbacks (<code>.caas-body</code> ‚Üí <code>article p</code>).</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Docker (optional)</h5>
          <pre class="bg-gray-800 text-gray-100 rounded p-2 overflow-x-auto text-xs">
FROM python:3.11-slim
RUN apt-get update && apt-get install -y chromium-driver chromium
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY scraper.py .
CMD ["python","scraper.py"]
          </pre>
          <p class="mb-3 text-green-400"><b>Extensions:</b> cron schedule, sentiment tagging, BI dashboard feed.</p>
        </div>
      </article>

      <!-- Zero-Shot Product Categorization -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up" data-aos-delay="500">
        <h3 class="text-xl font-bold mb-2 text-white">üß† Smart Product Categorization ‚Äî Zero-Shot NLP</h3>
        <p class="text-gray-400 mb-2">Automatic product‚Üícategory validation using BART-MNLI + rules.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> Transformers, Zero-Shot Learning, pandas</p>
        <div class="mt-4 space-x-2">
          <button data-toggle="#zero-shot-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="zero-shot-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-2 text-lg text-blue-300">Smart Product Categorization with Zero-Shot NLP</h4>
          <div class="grid sm:grid-cols-3 gap-3 mb-4">
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Model</div><div class="text-2xl">BART-MNLI</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Throughput (CPU)</div><div class="text-2xl">~8/s</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Flag rate</div><div class="text-2xl">~12%</div></div>
          </div>
          <h5 class="font-semibold text-blue-300 mb-1">Approach</h5>
          <ol class="list-decimal pl-6 mb-3">
            <li>Parse category path ‚Üí last category as candidate label.</li>
            <li>Quick screen: keyword/regex includes for obvious matches.</li>
            <li>Zero-shot score product name ‚Üí label; threshold = 0.6.</li>
            <li>Low-score items ‚Üí review queue with suggested top-k labels.</li>
          </ol>
          <h5 class="font-semibold text-blue-300 mb-1">Batching tip</h5>
          <pre class="bg-gray-800 text-gray-100 rounded p-2 overflow-x-auto text-xs">
z = pipeline("zero-shot-classification", model="facebook/bart-large-mnli", device=0 if torch.cuda.is_available() else -1)
labels = df["last_category"].tolist()
res = z(df["product_name"].tolist(), candidate_labels=labels, multi_label=False, batch_size=16)
          </pre>
          <h5 class="font-semibold text-blue-300 mb-1">Evaluation</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Manually labeled 200 items; precision ~0.92 on flagged set.</li>
            <li>Confusions: fashion variants (‚Äútop‚Äù vs ‚Äúblouse‚Äù), textiles (‚Äúduvet‚Äù vs ‚Äúcomforter‚Äù).</li>
          </ul>
          <p class="mb-2 text-green-400"><b>Impact:</b> Reduces manual QA while catching subtle mislabels that rules miss.</p>
        </div>
      </article>

      <!-- Spotify Trends -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up" data-aos-delay="600">
        <h3 class="text-xl font-bold mb-2 text-white">üéß Spotify Music Trends ‚Äî Statistical Analysis &amp; Viz</h3>
        <p class="text-gray-400 mb-2">EDA of audio features & popularity trends across decades.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> Python, pandas, NumPy, Matplotlib, Seaborn</p>
        <div class="mt-4 space-x-2">
          <button data-toggle="#spotify-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="spotify-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-3 text-lg text-blue-300">Identifying Spotify Trends across Decades</h4>
          <div class="grid sm:grid-cols-3 gap-3 mb-4">
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Tracks</div><div class="text-2xl">~170k</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Period</div><div class="text-2xl">1920‚Äì2020s</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Key corr.</div><div class="text-2xl">energy‚Üîloudness</div></div>
          </div>
          <h5 class="font-semibold text-blue-300 mb-1">Questions</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>How have song lengths changed over time?</li>
            <li>Which audio features correlate with popularity?</li>
            <li>Are ‚Äúhappier‚Äù (valence) songs also more danceable?</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Highlights</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>1970s‚Äì80s show the longest average durations; early eras shortest.</li>
            <li>energy‚Üîloudness ~0.78; acousticness negatively correlated (~‚àí0.74).</li>
            <li>valence‚Üîdanceability moderate positive (~0.56).</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Reproducibility</h5>
          <pre class="bg-gray-800 text-gray-100 rounded p-2 overflow-x-auto text-xs">
# yearly means, then line plot per feature
yearly = df.groupby("year")[["danceability","energy","valence","liveness","instrumentalness"]].mean()
yearly.reset_index().to_csv("yearly_features.csv", index=False)
          </pre>
          <p class="text-gray-400">Limitations: dataset bias toward popular tracks; no causal inference.</p>
        </div>
      </article>

      <!-- CPL Dream Team -->
      <article class="tilt bg-gray-800 p-6 rounded-2xl shadow hover:scale-105 transition duration-300 relative" data-aos="fade-up" data-aos-delay="700">
        <h3 class="text-xl font-bold mb-2 text-white">‚öΩ Canadian Premier League ‚Äî Dream Team (2019)</h3>
        <p class="text-gray-400 mb-2">Data-driven XI selection using Python KPIs + interactive Power BI dashboard.</p>
        <p class="text-xs text-gray-500 mb-2"><strong>Tech:</strong> Python (pandas, matplotlib, seaborn), Power BI</p>
        <div class="mt-4 space-x-2">
          <button data-toggle="#cpl-details" class="px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg">Show More</button>
        </div>
        <!-- DETAILS -->
        <div id="cpl-details" class="hidden bg-gray-900 border border-gray-700 rounded-xl mt-6 p-4 text-gray-200 text-sm max-h-[600px] overflow-y-auto">
          <h4 class="font-semibold mb-3 text-lg text-blue-300">CPL 2019 ‚Äî Dream Team: Method & KPIs</h4>
          <div class="grid sm:grid-cols-3 gap-3 mb-4">
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Teams</div><div class="text-2xl">7</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Players</div><div class="text-2xl">~300</div></div>
            <div class="bg-gray-800/60 p-3 rounded"><div class="text-gray-400 text-xs">Dashboard</div><div class="text-2xl">Power BI</div></div>
          </div>
          <h5 class="font-semibold text-blue-300 mb-1">KPIs</h5>
          <ul class="list-disc pl-6 mb-3">
            <li><b>Team:</b> goals, SOT ratio (in-box/out-of-box), pass %, fouls, touches in box ‚Üí composite score.</li>
            <li><b>Roles:</b> CF (goals + pens ‚àí xG), Wingers (2√óassists + xA + 0.5√óchances), CAM (2√ógoals + assists + 0.5√óchances), DM (assists + 2√ótackles + 0.5√óinterceptions), FB/CB/GK rules.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Notebook ‚Üí Dashboard</h5>
          <ul class="list-disc pl-6 mb-3">
            <li>Python shortlists per role; export tidy CSVs.</li>
            <li>Power BI tabs: Dream XI, Player Radar, Team Comparison, KPI Index.</li>
          </ul>
          <h5 class="font-semibold text-blue-300 mb-1">Example calc (Left Back)</h5>
          <pre class="bg-gray-800 text-gray-100 rounded p-2 overflow-x-auto text-xs">
sub = df[df["Position"]=="Left Back"].copy()
sub["score"] = 2*sub["Int"] + 0.5*sub["SucflTkls"] + sub["SucflDuels"]
sub.sort_values("score", ascending=False).head(5)
          </pre>
          <p class="text-gray-400">Notes: single-season sample; favors output over aesthetics; good for scouting shortlists.</p>
        </div>
      </article>

    </div>
  </section>

  <!-- Divider -->
  <div class="my-2 opacity-60">
    <svg viewBox="0 0 1200 120" class="w-full h-12" aria-hidden="true">
      <use href="#race" />
    </svg>
  </div>

  <!-- SKILLS -->
  <section id="skills" class="bg-gray-800 py-16" data-aos="fade-up" data-aos-delay="100">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="text-3xl font-semibold mb-6 text-center text-white">üõ†Ô∏è Skills</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        <div class="bg-gray-700 p-6 rounded-lg shadow text-white"><h3 class="font-bold mb-2">ML & AI</h3><p>scikit-learn, Transformers, Streamlit, MLflow, SHAP, Gradio</p></div>
        <div class="bg-gray-700 p-6 rounded-lg shadow text-white"><h3 class="font-bold mb-2">Data Analytics</h3><p>Tableau, Power BI, Excel, KPI Dashboards, Pandas</p></div>
        <div class="bg-gray-700 p-6 rounded-lg shadow text-white"><h3 class="font-bold mb-2">Languages & Scripting</h3><p>Python, R, SQL, HTML, CSS, Bash, VBA</p></div>
        <div class="bg-gray-700 p-6 rounded-lg shadow text-white"><h3 class="font-bold mb-2">Data Engineering</h3><p>ETL, dbt, Airflow, Data Modeling, APIs</p></div>
        <div class="bg-gray-700 p-6 rounded-lg shadow text-white"><h3 class="font-bold mb-2">Databases</h3><p>Snowflake, BigQuery, DuckDB, Postgres, MySQL</p></div>
        <div class="bg-gray-700 p-6 rounded-lg shadow text-white"><h3 class="font-bold mb-2">Cloud & DevOps</h3><p>AWS, Docker, Terraform, Serverless, Git, GitHub Actions, CI/CD</p></div>
      </div>
    </div>
  </section>

  <!-- Divider -->
  <div class="my-2 opacity-60">
    <svg viewBox="0 0 1200 120" class="w-full h-12" aria-hidden="true">
      <use href="#race" />
    </svg>
  </div>

  <!-- EXPERIENCE -->
  <section id="experience" class="max-w-5xl mx-auto px-4 py-16" data-aos="fade-up">
    <h2 class="text-3xl font-semibold mb-6 text-white">üíº Experience</h2>
    <div class="space-y-8">
      <div data-aos="fade-up">
        <h3 class="font-bold text-xl text-white">Tech Support Specialist @ Datasembly</h3>
        <p class="text-sm text-gray-400 mb-2">2024 ‚Äì Present</p>
        <ul class="list-disc ml-6 text-gray-300">
          <li>Support onboarding & implementation for enterprise clients; &lt;2-day setup SLAs.</li>
          <li>Optimize SQL for custom exports; ~50% faster reporting.</li>
          <li>Presales data samples/EDA; ~18% faster deal cycles.</li>
          <li>Investigate pricing discrepancies; improved trust & retention.</li>
          <li>Tableau dashboards for pricing trends & KPIs.</li>
          <li>Snowflake, DataGrip, Retool for analytics & tooling.</li>
          <li>Monitored data workflows; ‚àí40% manual QA effort.</li>
        </ul>
      </div>

      <div data-aos="fade-up" data-aos-delay="100">
        <h3 class="font-bold text-xl text-white">Business Analyst Intern @ Spongelii</h3>
        <p class="text-sm text-gray-400 mb-2">Jan 2024 ‚Äì Apr 2024</p>
        <ul class="list-disc ml-6 text-gray-300">
          <li>Launched NFT subscription (3-tier); PMF via pricing & feedback loops.</li>
          <li>Onboarded 20+ instructors/clients; 100% payment compliance.</li>
          <li>Reduced drop-off points; +15% attendance.</li>
          <li>Landing page revamp (CSS animations); +22% sign-ups.</li>
          <li>Wallet integration; fewer payment discrepancies.</li>
        </ul>
      </div>

      <div data-aos="fade-up" data-aos-delay="200">
        <h3 class="font-bold text-xl text-white">Business Analyst @ Amazon Prime Video</h3>
        <p class="text-sm text-gray-400 mb-2">2019 ‚Äì 2022</p>
        <ul class="list-disc ml-6 text-gray-300">
          <li>Power BI/Tableau for 30+ weekly reviews; +40% reporting speed.</li>
          <li>Automations with VBA & macros; +25% team productivity.</li>
          <li>Prime Day escalations SLA &lt;6h; +40% CSAT.</li>
          <li>BRDs, risk & SWOT; on-time deliveries.</li>
          <li>Onboarded 200+ accounts; 90%+ CSAT.</li>
          <li>Reduced Sev2 SLA 12h‚Üí6h; +40% resolution ratings.</li>
          <li>SQL dashboards & automation for ML ops visibility.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Divider -->
  <div class="my-2 opacity-60">
    <svg viewBox="0 0 1200 120" class="w-full h-12" aria-hidden="true">
      <use href="#race" />
    </svg>
  </div>

  <!-- EDUCATION -->
  <section id="education" class="bg-gray-800 py-16" data-aos="fade-up">
    <div class="max-w-5xl mx-auto px-4 text-white">
      <h2 class="text-3xl font-semibold mb-4">üéì Education</h2>
      <h3 class="font-bold text-xl">Postgraduate Diploma in Business Analytics</h3>
      <p class="text-sm text-gray-400 mb-2">Lambton College, Mississauga, Canada ¬∑ 2022 ‚Äì 2024</p>
      <ul class="list-disc ml-6 text-gray-200 mb-2">
        <li>Hands-on projects in SQL, Python, Power BI.</li>
        <li>Automated business reports during co-op.</li>
        <li>Data analytics, project management, process improvement.</li>
      </ul>
    </div>
  </section>

  <!-- Divider -->
  <div class="my-2 opacity-60">
    <svg viewBox="0 0 1200 120" class="w-full h-12" aria-hidden="true">
      <use href="#race" />
    </svg>
  </div>

  <!-- CONTACT -->
  <section id="contact" class="max-w-5xl mx-auto px-4 py-16" data-aos="fade-up">
    <h2 class="text-3xl font-semibold mb-4 text-white">üìß Contact</h2>
    <p>Email: <a href="mailto:mohamedansarkms@gmail.com" class="underline">mohamedansarkms@gmail.com</a></p>
    <p>LinkedIn: <a href="https://www.linkedin.com/in/kmsmohamedansar/" class="underline" target="_blank" rel="noopener noreferrer">linkedin.com/kmsmohamedansar</a></p>
  </section>

  <!-- Scripts -->
  <script>
  // Wait until DOM is ready so deferred libs (anime.js, AOS, Typed, VanillaTilt) are available
  window.addEventListener('DOMContentLoaded', function(){
    (function(){
      const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Theme toggle
      const themeBtn = document.getElementById('theme-toggle');
      const root = document.documentElement;
      function setTheme(t){ t==='dark' ? root.classList.add('dark') : root.classList.remove('dark'); localStorage.setItem('theme', t); }
      setTheme(localStorage.getItem('theme') || 'dark');
      themeBtn?.addEventListener('click', ()=> setTheme(root.classList.contains('dark')?'light':'dark'));

      // AOS / Tilt
      if (window.AOS && !reduceMotion) { AOS.init({ once:true, duration:800 }); }
      if (window.VanillaTilt) { VanillaTilt.init(document.querySelectorAll('.tilt'), { max:15, speed:400, glare:true, 'max-glare':0.3 }); }

      // Typed
      const typedEl = document.getElementById('typed');
      if (window.Typed && typedEl){
        new Typed("#typed", { strings:["Mohamed Ansar","a Business Analyst","a Tech Support Specialist","a ML/AI Enthusiast"], typeSpeed:80, backSpeed:40, loop:true });
      } else if (typedEl) {
        typedEl.textContent = "Mohamed Ansar";
      }

      // Floating keywords
      const keywords = ['Neural Networks','Transfer Learning','Data Pipelines','MLOps','Explainable AI','RAG','Model Deployment','Feature Engineering','Hugging Face','Streamlit','Airflow','MLflow','Prompt Engineering','LLMOps','Semantic Search','Vector DBs','Databricks','Snowflake','Selenium','BeautifulSoup','Zero-Shot','BART-MNLI'];
      let k=0; setInterval(()=>{ const el = document.getElementById('mlWords'); if(el) el.textContent = keywords[k=(k+1)%keywords.length]; }, 2200);

      // Nav toggle + a11y + active section
      const navToggle = document.getElementById('nav-toggle');
      const navLinks  = document.getElementById('nav-links');
      function closeNav(){ navLinks.classList.add('hidden'); navLinks.classList.remove('mobile-nav-open'); navToggle.setAttribute('aria-expanded','false'); }
      function openNav(){ navLinks.classList.remove('hidden'); navLinks.classList.add('mobile-nav-open'); navToggle.setAttribute('aria-expanded','true'); }
      navToggle?.addEventListener('click', ()=> navLinks.classList.contains('hidden') ? openNav() : closeNav());
      navToggle?.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); navToggle.click(); }});
      document.addEventListener('keydown', e=>{ if(e.key==='Escape' && !navLinks.classList.contains('hidden')){ closeNav(); navToggle.focus(); }});
      navLinks?.querySelectorAll('a').forEach(a=> a.addEventListener('click', closeNav));

      // Active link highlight
      const sections = ['about','projects','skills','experience','education','contact']
        .map(id=>document.getElementById(id)).filter(Boolean);
      const mapLink = (id)=> Array.from(navLinks.querySelectorAll('a')).find(a=> a.getAttribute('href') === '#' + id);
      const io = new IntersectionObserver(entries=>{
        entries.forEach(e=>{
          const id = e.target.id, link = mapLink(id); if(!link) return;
          if(e.isIntersecting){
            navLinks.querySelectorAll('a').forEach(l=>l.classList.remove('border-b-2','border-cyan-400'));
            link.classList.add('border-b-2','border-cyan-400'); link.setAttribute('aria-current','page');
          }
        });
      }, { rootMargin:'-45% 0px -50% 0px', threshold:0.01 });
      sections.forEach(s=> io.observe(s));

      // Show more panels + KPI count up
      function countUp(el){
        const to = +el.dataset.to || 0; let cur = 0;
        const step = Math.max(1, Math.round(to/30));
        const id = setInterval(()=>{ cur += step; if(cur>=to){ cur = to; clearInterval(id); } el.textContent = cur; }, 20);
      }
      document.querySelectorAll('[data-toggle]').forEach(btn=>{
        const sel = btn.getAttribute('data-toggle'); const panel = document.querySelector(sel); if(!panel) return;
        btn.setAttribute('aria-controls', sel.replace('#','')); btn.setAttribute('aria-expanded','false');
        btn.addEventListener('click', ()=>{
          panel.classList.toggle('hidden'); const open = !panel.classList.contains('hidden');
          btn.textContent = open ? 'Show Less' : 'Show More'; btn.setAttribute('aria-expanded', String(open));
          if(open) panel.querySelectorAll('.kpi').forEach(countUp);
        });
      });

      // HiDPI canvas helper
      function setupHiDPI(canvas){
        const ctx = canvas.getContext('2d', { alpha:true });
        let dpr = Math.min(2, window.devicePixelRatio || 1);
        function resize(){
          const w = innerWidth, h = innerHeight;
          canvas.width = Math.floor(w * dpr); canvas.height = Math.floor(h * dpr);
          canvas.style.width = w+'px'; canvas.style.height = h+'px';
          ctx.setTransform(dpr,0,0,dpr,0,0);
        }
        resize(); addEventListener('resize', resize, { passive:true });
        return { ctx };
      }

      // BACKGROUND 1: connected nodes + scroll-scrub to name
      (function(){
        const canvas = document.getElementById('anime-bg'); if(!canvas) return;
        const { ctx } = setupHiDPI(canvas);
        const NODES = 12, nodes = [];
        let W = innerWidth, H = innerHeight;
        for(let i=0;i<NODES;i++){
          nodes.push({ x: Math.random()*W, y: Math.random()*H, vx:(Math.random()-.5)*0.7, vy:(Math.random()-.5)*0.7, r: 9+Math.random()*7 });
        }
        function drawLinks(){
          for(let i=0;i<NODES;i++) for(let j=i+1;j<NODES;j++){
            const a=nodes[i], b=nodes[j], d = Math.hypot(a.x-b.x, a.y-b.y);
            if(d<220){ ctx.save(); ctx.globalAlpha=.16; ctx.strokeStyle="#38bdf8"; ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke(); ctx.restore(); }
          }
        }
        function drawNodes(){
          nodes.forEach(n=>{ ctx.save(); ctx.globalAlpha=.8; ctx.beginPath(); ctx.arc(n.x,n.y,n.r,0,2*Math.PI); ctx.fillStyle="#38bdf8"; ctx.shadowColor="#a78bfa"; ctx.shadowBlur=18; ctx.fill(); ctx.restore(); });
        }
        function step(){
          if(reduceMotion) return;
          ctx.clearRect(0,0,innerWidth,innerHeight); drawLinks(); drawNodes();
          nodes.forEach(n=>{ n.x+=n.vx; n.y+=n.vy; if(n.x<n.r||n.x>W-n.r) n.vx*=-1; if(n.y<n.r||n.y>H-n.r) n.vy*=-1; });
          requestAnimationFrame(step);
        }
        step();

        // Scroll-scrub to letters
        if(window.anime && !reduceMotion){
          let anchors = [];
          function computeAnchors(){
            const typed = document.getElementById('typed');
            const h1 = typed ? typed.parentElement : null;
            if(!h1) return anchors=[];
            const rect = h1.getBoundingClientRect();
            const cols = Math.min(NODES, 16), top = rect.top + window.scrollY, left = rect.left + window.scrollX;
            anchors = Array.from({length:cols}, (_,i)=> ({ x: left + (i+0.5)*(rect.width/cols), y: top + rect.height*0.6 }));
          }
          computeAnchors(); addEventListener('resize', computeAnchors, { passive:true });

          const tl = anime.timeline({ autoplay:false, easing:'easeInOutQuad' })
            .add({
              targets: nodes,
              x: (_,i)=> anchors.length? anchors[i%anchors.length].x : nodes[i].x,
              y: (_,i)=> anchors.length? anchors[i%anchors.length].y : nodes[i].y,
              duration: 1200
            });
          addEventListener('scroll', ()=>{
            const p = Math.min(1, scrollY / (innerHeight*0.25));
            tl.seek(tl.duration * p);
          }, { passive:true });
        }
      })();

      // BACKGROUND 2: data waterfall ‚Üí grid attraction near projects
      (function(){
        const canvas = document.getElementById('waterfall'); if(!canvas) return;
        const { ctx } = setupHiDPI(canvas);
        let W = innerWidth, H = innerHeight;
        const parts = []; for(let i=0;i<120;i++) parts.push({ x:Math.random()*W, y:Math.random()*H, s:2+Math.random()*3, v:.4+Math.random()*.6 });
        const projects = document.getElementById('projects'); if(!projects) return;
        function tick(){
          if(reduceMotion) return;
          ctx.clearRect(0,0,W,H);
          const rect = projects.getBoundingClientRect();
          const targetY = (rect.top + rect.height*0.15) + window.scrollY;
          const p = Math.min(1, Math.max(0, (scrollY - innerHeight*0.3) / (innerHeight*0.6)));
          parts.forEach((q,i)=>{
            const gx = (i%16+0.5)*W/16, gy = targetY%H;
            q.y += q.v;
            if(p>0.4){ q.x += (gx - q.x)*0.06; q.y += (gy - q.y)*0.06; }
            if(q.y>H+10){ q.y=-10; q.x=Math.random()*W; }
            ctx.fillStyle = '#38bdf8'; ctx.globalAlpha=.7; ctx.fillRect(q.x, q.y, q.s, q.s);
          });
          requestAnimationFrame(tick);
        }
        tick();
      })();

      // Racing line draw-in
      if(window.anime && !reduceMotion){
        anime({ targets:'#race', strokeDashoffset:[anime.setDashoffset,0], duration:1600, easing:'easeOutQuad' });
      }
    })();
  });
  </script>
</body>
</html>
